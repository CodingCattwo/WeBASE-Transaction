# 接口说明
## 1. 合约接口

### 1.1 合约部署接口 

#### 接口描述

调用此接口进行合约部署。

构造方法参数（funcParam）为JSON数组，多个参数以逗号分隔（参数为数组时同理），示例：

```
constructor(string s) -> ["aa,bb\"cc"]	// 双引号要转义
constructor(uint n,bool b) -> [1,true]
constructor(bytes b,address[] a) -> ["0x1a",["0x7939E26070BE44E6c4Fc759Ce55C6C8b166d94BE","0xce867fD9afa64175bb50A4Aa0c17fC7C4A3C67D9"]]
```

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/contract/deploy**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文**     | **参数名**  | **类型**       | **最大长度** | **必填** | **说明**                                                     |
| -------- | ------------ | ----------- | -------------- | ------------ | -------- | ------------------------------------------------------------ |
| 1        | 链编号       | chainId     | int            |              | 是       |                                                              |
| 2        | 群组编号     | groupId     | int            | 16           | 是       |                                                              |
| 3        | 合约Bin      | bytecodeBin | String         |              | 是       |                                                              |
| 4        | 合约Abi      | contractAbi | List\<Object\> |              | 是       | JSON数组，合约完整Abi                                        |
| 5        | 构造方法参数 | funcParam   | List\<Object\> |              | 否       | JSON数组，多个参数以逗号分隔（参数为数组时同理），如：["str1",["arr1","arr2"]] |
| 6        | 签名用户编号 | signUserId  | String         | 64           | 是       | WeBASE-Sign用户                                              |

**2）数据格式**

```
{
  "bytecodeBin": "608060405234801561001057600080fd5b50610373806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063299f7f9d146100515780633590b49f146100e1575b600080fd5b34801561005d57600080fd5b5061006661014a565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100a657808201518184015260208101905061008b565b50505050905090810190601f1680156100d35780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156100ed57600080fd5b50610148600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101ec565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156101e25780601f106101b7576101008083540402835291602001916101e2565b820191906000526020600020905b8154815290600101906020018083116101c557829003601f168201915b5050505050905090565b7f05432a43e07f36a8b98100b9cb3631e02f8e796b0a06813610ce8942e972fb81816040518080602001828103825283818151815260200191508051906020019080838360005b8381101561024e578082015181840152602081019050610233565b50505050905090810190601f16801561027b5780820380516001836020036101000a031916815260200191505b509250505060405180910390a1806000908051906020019061029e9291906102a2565b5050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106102e357805160ff1916838001178555610311565b82800160010185558215610311579182015b828111156103105782518255916020019190600101906102f5565b5b50905061031e9190610322565b5090565b61034491905b80821115610340576000816000905550600101610328565b5090565b905600a165627a7a7230582077e2db38eecb729562ac614505b3507007a6acce30fd30971bd0501a019eb02d0029",
  "contractAbi": [{"constant":true,"inputs":[],"name":"get","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"n","type":"string"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"name","type":"string"}],"name":"SetName","type":"event"}],
  "funcParam": [
  ],
  "chainId": 1,
  "groupId": 1,
  "signUserId": "user1001"
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

a.请求正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "transactionHash": "0xccc4b445fd69fd35a28d7ff624bb531d706c365e6b85557e48c2697804e85b06",
    "transactionIndex": 0,
    "blockHash": "0xbf55f5179281606b9cba225798e13dd03c4fe11a96854f8df5e55db81b461b0a",
    "blockNumber": 70,
    "gasUsed": 287752,
    "contractAddress": "0x93a17e78d08e1a0d98269b3bf5656eaed2c2416c",
    "root": "0x561780e011513bc409a1beb332f3719e4ac6f8cae790a932aa271a5a079d211e",
    "status": "0x0",
    "message": null,
    "from": "0xdb4ed7a548623c219235aa68156f117dff959a17",
    "to": "0x0000000000000000000000000000000000000000",
    "input": "0x608060405234801561001057600080fd5b50610373806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063299f7f9d146100515780633590b49f146100e1575b600080fd5b34801561005d57600080fd5b5061006661014a565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100a657808201518184015260208101905061008b565b50505050905090810190601f1680156100d35780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156100ed57600080fd5b50610148600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101ec565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156101e25780601f106101b7576101008083540402835291602001916101e2565b820191906000526020600020905b8154815290600101906020018083116101c557829003601f168201915b5050505050905090565b7f05432a43e07f36a8b98100b9cb3631e02f8e796b0a06813610ce8942e972fb81816040518080602001828103825283818151815260200191508051906020019080838360005b8381101561024e578082015181840152602081019050610233565b50505050905090810190601f16801561027b5780820380516001836020036101000a031916815260200191505b509250505060405180910390a1806000908051906020019061029e9291906102a2565b5050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106102e357805160ff1916838001178555610311565b82800160010185558215610311579182015b828111156103105782518255916020019190600101906102f5565b5b50905061031e9190610322565b5090565b61034491905b80821115610340576000816000905550600101610328565b5090565b905600a165627a7a7230582077e2db38eecb729562ac614505b3507007a6acce30fd30971bd0501a019eb02d0029",
    "output": "0x",
    "logs": [],
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"
  }
}
```

b.异常返回结果示例（信息详情请参看附录1）

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

### 1.2 合约编译接口 

#### 接口描述

调用此接口进行合约编译。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/contract/compile**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名**     | **类型** | **最大长度** | **必填** | **说明**                     |
| -------- | -------- | -------------- | -------- | ------------ | -------- | ---------------------------- |
| 1        | 链编号   | chainId        | int      |              | 是       |                              |
| 2        | 群组编号 | groupId        | int      |              | 是       |                              |
| 3        | 合约名称 | contractName   | String   |              | 是       |                              |
| 4        | 合约源码 | solidityBase64 | String   |              | 是       | 经过Base64编码的合约源码内容 |

**2）数据格式**

```
{
  "chainId": 1,
  "contractName": "HelloWorld",
  "groupId": 1,
  "solidityBase64": "cHJhZ21hIHNvbGlkaXR5IF4wLjQuMjsNCmNvbnRyYWN0IEhlbGxvV29ybGR7DQogICAgc3RyaW5nIG5hbWU7DQogICAgZXZlbnQgU2V0TmFtZShzdHJpbmcgbmFtZSk7DQogICAgZXZlbnQgU2V0TmFtZShzdHJpbmcgbmFtZSxzdHJpbmcgbmFtZTIpOw0KICAgIGZ1bmN0aW9uIGdldCgpY29uc3RhbnQgcmV0dXJucyhzdHJpbmcpew0KICAgICAgICByZXR1cm4gbmFtZTsNCiAgICB9DQogICAgZnVuY3Rpb24gc2V0KHN0cmluZyBuKXsNCiAgICAgICAgZW1pdCBTZXROYW1lKG4pOw0KICAgICAgICBlbWl0IFNldE5hbWUobiwidGVzdCIpOw0KICAgICAgICBuYW1lPW47DQogICAgfQ0KfQ=="
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名**   | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ------------ | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code         | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message      | String   |              | 是       |                   |
| 3        | 返回数据 | data         | Object   |              | 是       |                   |
| 3.1      | 合约名   | contractName | String   |              | 是       |                   |
| 3.2      | 合约abi  | contractAbi  | String   |              | 是       |                   |
| 3.3      | 合约bin  | bytecodeBin  | String   |              | 是       |                   |

**2）数据格式**

a.请求正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "contractName": "HelloWorld",
    "contractAbi": "[{\"constant\":false,\"inputs\":[{\"name\":\"n\",\"type\":\"string\"}],\"name\":\"set\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"}],\"name\":\"SetName\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"name\":\"name\",\"type\":\"string\"},{\"indexed\":false,\"name\":\"name2\",\"type\":\"string\"}],\"name\":\"SetName\",\"type\":\"event\"}]",
    "bytecodeBin": "608060405234801561001057600080fd5b50610448806100206000396000f30060806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680634ed3885e146100515780636d4ce63c146100ba575b600080fd5b34801561005d57600080fd5b506100b8600480360381019080803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061014a565b005b3480156100c657600080fd5b506100cf6102d5565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561010f5780820151818401526020810190506100f4565b50505050905090810190601f16801561013c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b7f4df9dcd34ae35f40f2c756fd8ac83210ed0b76d065543ee73d868aec7c7fcf02816040518080602001828103825283818151815260200191508051906020019080838360005b838110156101ac578082015181840152602081019050610191565b50505050905090810190601f1680156101d95780820380516001836020036101000a031916815260200191505b509250505060405180910390a17fbcfc2e8e6857ca26084ba5543a45251aaf7690f73043fff1d18c7d5f80e5cbb181604051808060200180602001838103835284818151815260200191508051906020019080838360005b8381101561024c578082015181840152602081019050610231565b50505050905090810190601f1680156102795780820380516001836020036101000a031916815260200191505b50838103825260048152602001807f7465737400000000000000000000000000000000000000000000000000000000815250602001935050505060405180910390a180600090805190602001906102d1929190610377565b5050565b606060008054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561036d5780601f106103425761010080835404028352916020019161036d565b820191906000526020600020905b81548152906001019060200180831161035057829003601f168201915b5050505050905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106103b857805160ff19168380011785556103e6565b828001600101855582156103e6579182015b828111156103e55782518255916020019190600101906103ca565b5b5090506103f391906103f7565b5090565b61041991905b808211156104155760008160009055506001016103fd565b5090565b905600a165627a7a723058205246ec13e33e283f7748c1d83468de57056e07037805e125acaab28df163b9920029"
  }
}
```

b.异常返回结果示例（信息详情请参看附录1）

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

## 2. 交易接口

### 2.1 交易请求接口 

#### 接口描述

调用此接口发送交易请求，数据上链或查询结果。

方法入参（funcParam）为JSON数组，多个参数以逗号分隔（参数为数组时同理），示例：

```
function set(string s) -> ["aa,bb\"cc"]	// 双引号要转义
function set(uint n,bool b) -> [1,true]
function set(bytes b,address[] a) -> ["0x1a",["0x7939E26070BE44E6c4Fc759Ce55C6C8b166d94BE","0xce867fD9afa64175bb50A4Aa0c17fC7C4A3C67D9"]]
```

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/trans/send**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文**     | **参数名**      | **类型**       | **最大长度** | **必填** | **说明**                                                     |
| -------- | ------------ | --------------- | -------------- | ------------ | -------- | ------------------------------------------------------------ |
| 1        | 链编号       | chainId         | int            |              | 是       |                                                              |
| 2        | 群组编号     | groupId         | int            | 16           | 是       |                                                              |
| 3        | 合约地址     | contractAddress | String         |              | 是       |                                                              |
| 4        | 方法Abi      | functionAbi     | List\<Object\> |              | 是       | JSON数组，所调用方法的Abi（备注：合约有重载方法时，传全部Abi会有问题） |
| 5        | 调用方法名   | funcName        | String         |              | 是       |                                                              |
| 6        | 方法参数     | funcParam       | List\<Object\> |              | 否       | JSON数组，多个参数以逗号分隔（参数为数组时同理），如：["str1",["arr1","arr2"]] |
| 7        | 签名用户编号 | signUserId      | String         |              | 是       | WeBASE-Sign用户                                              |

**2）数据格式**

```
{
  "contractAddress": "0x93a17e78d08e1a0d98269b3bf5656eaed2c2416c",
  "funcName": "set",
  "funcParam": ["hello"],
  "functionAbi": [{"constant":false,"inputs":[{"name":"n","type":"string"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}],
  "chainId": 1,
  "groupId": 1,
  "signUserId": "user1001"
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文**     | **参数名**      | **类型** | **最大长度** | **必填** | **说明**                          |
| -------- | ------------ | --------------- | -------- | ------------ | -------- | --------------------------------- |
| 1        | 返回码       | code            | String   |              | 是       | 返回码信息请附录1                 |
| 2        | 提示信息     | message         | String   |              | 是       |                                   |
| 3        | 返回数据     | data            | Object   |              | 是       |                                   |
| 3.1      | 调用类型     | constant        | Bool     |              | 否       |                                   |
| 3.2      | 查询信息     | queryInfo       | String   |              | 否       | Constant 为 true 时，该 字段有值  |
| 3.3      | 交易哈希     | transactionHash | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.4      | 块哈希       | blockHash       | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.5      | 块高         | blockNumber     | Int      |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.6      | Gas使用值    | gasUsed         | Int      |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.7      | 交易状态     | status          | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.8      | 发送者的地址 | from            | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.9      | 接收者的地址 | to              | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.10     | 输入         | input           | String   |              | 否       | Constant 为 false 时， 该字段有值 |
| 3.11     | 输出         | output          | String   |              | 否       | Constant 为 false 时， 该字段有值 |

**2）数据格式**

a.交易上链正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "constant": false,
    "queryInfo": null,
    "transactionHash": "0xa2045d0fefe6c74f3b664f5376373d3e38f508446d9095149902cac9dfbb7820",
    "blockHash": "0x0c5861551e63603d2c423a5d536d1ba73a5a72371b82b2c8f96ae089426bf9d8",
    "blockNumber": 7,
    "gasUsed": 34991,
    "status": "0x0",
    "from": "0x0c77a8ccfdd5907f519f122b41f3dff14f659441",
    "to": "0xf023e73fa55abe01d43805fffff57c2b004f8879",
    "input": "0x4ed3885e000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000056365736869000000000000000000000000000000000000000000000000000000",
    "output": "0x"
  }
}
```

b.交易查询正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "constant": true,
    "queryInfo": "[ \"ceshi\" ]",
    "transactionHash": null,
    "blockHash": null,
    "blockNumber": null,
    "gasUsed": null,
    "status": null,
    "from": null,
    "to": null,
    "input": null,
    "output": null
  }
}
```

c.异常返回结果示例（信息详情请参看附录1）

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

### 2.2 根据交易hash获取交易信息

#### 接口描述

根据交易hash获取交易信息。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/trans/getTransactionByHash/{chainId}/{groupId}/{transHash}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      | 16           | 是       |          |
| 3        | 交易hash | transHash  | String   |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/trans/getTransactionByHash/1/1/0x389efacb98156ce5eceab2caed61523f6c88d97a842dd95f9a5abe9e2a90d3fa
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

a.正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "hash": "0x389efacb98156ce5eceab2caed61523f6c88d97a842dd95f9a5abe9e2a90d3fa",
    "nonce": 6.107833841210527e+74,
    "blockHash": "0xcfb90dd20ebc048c03f27120db0c389542b91d62cd8318ec181c0353ffd5b5e7",
    "blockNumber": 73,
    "transactionIndex": 0,
    "from": "0xdb4ed7a548623c219235aa68156f117dff959a17",
    "to": "0x93a17e78d08e1a0d98269b3bf5656eaed2c2416c",
    "value": 0,
    "gasPrice": 100000000,
    "gas": 100000000,
    "input": "0x3590b49f0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000568656c6c6f000000000000000000000000000000000000000000000000000000",
    "creates": null,
    "publicKey": null,
    "raw": null,
    "r": null,
    "s": null,
    "v": 0,
    "valueRaw": "0x0",
    "gasRaw": "0x5f5e100",
    "gasPriceRaw": "0x5f5e100",
    "nonceRaw": "0x159b0eed9e7e81d593c68a501299f76df36b37bf05e5400303aeb217239ecc3",
    "blockNumberRaw": "0x49",
    "transactionIndexRaw": "0x0"
  }
}
```

b.异常返回结果示例（信息详情请参看附录1）

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

### 2.3 根据交易hash获取交易回执信息

#### 接口描述

根据交易hash获取交易回执信息。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/trans/getTransactionReceipt/{chainId}/{groupId}/{transHash}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      | 16           | 是       |          |
| 3        | 交易hash | transHash  | String   |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/trans/getTransactionReceipt/1/1/0x389efacb98156ce5eceab2caed61523f6c88d97a842dd95f9a5abe9e2a90d3fa
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

a.正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "transactionHash": "0x389efacb98156ce5eceab2caed61523f6c88d97a842dd95f9a5abe9e2a90d3fa",
    "transactionIndex": 0,
    "blockHash": "0xcfb90dd20ebc048c03f27120db0c389542b91d62cd8318ec181c0353ffd5b5e7",
    "blockNumber": 73,
    "gasUsed": 35013,
    "contractAddress": "0x0000000000000000000000000000000000000000",
    "root": "0xf0b50585258d92d1704c91182932e51dc7b02c8c7ffa99c8b9768facf29e3793",
    "status": "0x0",
    "message": null,
    "from": "0xdb4ed7a548623c219235aa68156f117dff959a17",
    "to": "0x93a17e78d08e1a0d98269b3bf5656eaed2c2416c",
    "input": "0x3590b49f0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000568656c6c6f000000000000000000000000000000000000000000000000000000",
    "output": "0x",
    "logs": [
      {
        "logIndex": null,
        "transactionIndex": null,
        "transactionHash": null,
        "blockHash": null,
        "blockNumber": null,
        "address": "0x93a17e78d08e1a0d98269b3bf5656eaed2c2416c",
        "data": "0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000568656c6c6f000000000000000000000000000000000000000000000000000000",
        "topics": [
          "0x05432a43e07f36a8b98100b9cb3631e02f8e796b0a06813610ce8942e972fb81"
        ]
      }
    ],
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000040000000000200000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000"
  }
}
```

b.异常返回结果示例（信息详情请参看附录1）

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

### 2.4. 已签名交易发送

#### 接口描述

> 发送已签名的交易上链，返回交易收据

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/trans/sendSignedTransaction**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文**     | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | ------------ | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 已签名字符串 | signedStr  | String   |              | 是       |          |
| 2        | 是否同步发送 | sync       | bool     |              | 是       |          |
| 3        | 链编号       | chainId    | int      |              | 是       |          |
| 4        | 群组ID       | groupId    | int      |              | 是       |          |

**2）数据格式**

```
{
    "signedStr": "0xddd",
    "sync": 1,
    "chainId":1,
    "groupId":1
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    "transactionHash": "0xb2c733b742045e61c0fd6e7e2bafece04d56262a4887de9f78dad2c5dd2f944b",
    "transactionIndex": 0,
    "blockHash": "0xf27ff42d4be65329a1e7b11365e190086d92f9836168d0379e92642786db7ade",
    "blockNumber": 100,
    "cumulativeGasUsed": 121038,
    "gasUsed": 121038,
    "contractAddress": "0x0000000000000000000000000000000000000000",
    "root": null,
    "from": null,
    "to": null,
    "logs": [
        {
            "removed": false,
            "logIndex": 0,
            "transactionIndex": 0,
            "transactionHash": "0xb2c733b742045e61c0fd6e7e2bafece04d56262a4887de9f78dad2c5dd2f944b",
            "blockHash": "0xf27ff42d4be65329a1e7b11365e190086d92f9836168d0379e92642786db7ade",
            "blockNumber": 100,
            "address": "0x986278eb8e8b4ef98bdfc055c02d65865fc87ad2",
            "data": "0x00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000001caf3fbec3675eabb85c0b25e2992d6f0a5e1546dad85c20733fdb27cfa4ca782a5fdfb621b416f3494c7d8ca436c12309884550d402ea79f03ef8ddfdd494f7a40000000000000000000000000000000000000000000000000000000000000040666164363863656230616530316530643731616635356331316561643031613532656638363435343866306134643133633836363164393664326461366239380000000000000000000000000000000000000000000000000000000000000002363000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000023630000000000000000000000000000000000000000000000000000000000000",
            "type": "mined",
            "topics": [
                "0xbf474e795141390215f4f179557402a28c562b860f7b74dce4a3c0e0604cd97e"
            ],
            "logIndexRaw": "0",
            "blockNumberRaw": "100",
            "transactionIndexRaw": "0"
        }
    ],
    "logsBloom": null,
    "gasUsedRaw": "0x1d8ce",
    "blockNumberRaw": "100",
    "transactionIndexRaw": "0",
    "cumulativeGasUsedRaw": "0x1d8ce",
    "message": null,
    "txProof": null,
    "receiptProof": null
  }
}
```

### 2.5. 已编码查询交易发送

#### 接口描述

> 发送已编码的查询交易，返回合约的返回值；

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/trans/sendQueryTransaction**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文**     | **参数名**      | **类型**       | **最大长度** | **必填** | **说明**                                                     |
| -------- | ------------ | --------------- | -------------- | ------------ | -------- | ------------------------------------------------------------ |
| 1        | 已编码字符串 | encodeStr       | String         |              | 是       |                                                              |
| 2        | 合约地址     | contractAddress | String         |              | 是       |                                                              |
| 3        | 链编号       | chainId         | int            |              | 是       |                                                              |
| 4        | 群组ID       | groupId         | int            |              | 是       |                                                              |
| 5        | 合约名       | funcName        | String         |              | 是       |                                                              |
| 6        | 方法Abi      | functionAbi     | List\<Object\> |              | 是       | JSON数组，所调用方法的Abi（备注：合约有重载方法时，传全部Abi会有问题） |

**2）数据格式**

```
{
    "encodeStr": "0xddd",
    "contractAddress": "0x2b5ad5c4795c026514f8317c7a215e218dccd6cf",
    "chainId":1,
    "groupId":1,
    "funcName": "get",
    "contractAbi": "[{\"constant\":true,\"inputs\":[],\"name\":\"get\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"}]"
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    "Hi,Welcome!"
  }
}
```

## 4. 新增用户接口

### 4.1. 导入私钥用户接口

#### 接口描述

导入私钥到WeBASE-Sign，私钥为空则新建。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/user/newUser**

#### 调用方法

HTTP POST

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名**  | **类型** | **最大长度** | **必填** | **说明**                                       |
| -------- | -------- | ----------- | -------- | ------------ | -------- | ---------------------------------------------- |
| 1        | 私钥     | privateKey  | String   |              | 否       | 通过**Base64加密**后的私钥内容，私钥为空则新建 |
| 2        | 用户编号 | signUserId  | String   | 64           | 是       | 私钥用户的唯一业务编号，仅支持数字字母下划线   |
| 3        | 应用编号 | appId       | String   | 64           | 是       | 用于标志用户的应用编号,仅支持数字字母下划线    |
| 4        | 加密类型 | encryptType | Integer  |              | 是       | 默认为0，0: ECDSA, 1: 国密                     |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/user/newUser
```

```
{
  "appId": "app1001",
  "encryptType": 1,
  "privateKey": "YzAwNDYzYWU4MjM2OTVhNjk1MGNmZGUwNmVkODg0YjI2MzUzNmE2ODg2MGEwNWZjMTE4NTM4ODIxYTQ5OTcyNQ==",
  "signUserId": "user1001"
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名**  | **类型**    | **最大长度** | **必填** | **说明**           |
| -------- | -------- | ----------- | ----------- | ------------ | -------- | ------------------ |
| 1        | 返回码   | code        | String      |              | 是       | 返回码信息请附录1  |
| 2        | 提示信息 | message     | String      |              | 是       |                    |
| 3        | 返回数据 | data        | Object      |              | 是       |                    |
| 3.1      | 用户编号 | signUserId  | String      |              | 是       |                    |
| 3.2      | 应用编号 | appId       | String      |              | 是       |                    |
| 3.3      | 私钥信息 | privateKey  | String      |              | 否       |                    |
| 3.4      | 账户地址 | address     | String      |              | 是       |                    |
| 3.5      | 公钥     | publicKey   | toHexString |              | 是       |                    |
| 3.6      | 描述     | description | String      |              | 是       |                    |
| 3.7      | 加密类型 | encryptType | Integer     |              | 是       | 0: ECDSA, 1: guomi |

**2）数据格式**

a.请求正常返回结果

ECDSA用户：

```
{
  "code": 0,
  "message": "success",
  "data": {
    "signUserId": "user1001",
    "appId": "app1001",
    "address": "0xdb4ed7a548623c219235aa68156f117dff959a17",
    "publicKey": "0x46af4341acd0c404aab06a75cd950e2c04f8507a2f77abfe9e8b6d22014f897daaea457eb75dbdf26a0e74c4f1ee360c9d836ba6bfdd63754736231773904d4b",
    "privateKey": "",
    "description": null,
    "encryptType": 1
  }
}
```

b.异常返回结果示例

```
{
    "code": 303001,
    "message": "user of this sign user id is already exists",
    "data": null
}
```

### 4.2 根据userId查询用户

#### 接口描述

根据用户编号查询用户信息。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/user/{signUserId}/userInfo**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**                                     |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------------------------------------------- |
| 1        | 用户编号 | signUserId | String   | 64           | 是       | 私钥用户的唯一业务编号，仅支持数字字母下划线 |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/user/user1001/userInfo
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名**  | **类型**    | **最大长度** | **必填** | **说明**           |
| -------- | -------- | ----------- | ----------- | ------------ | -------- | ------------------ |
| 1        | 返回码   | code        | String      |              | 是       | 返回码信息请附录1  |
| 2        | 提示信息 | message     | String      |              | 是       |                    |
| 3        | 返回数据 | data        | Object      |              | 是       |                    |
| 3.1      | 用户编号 | signUserId  | String      |              | 是       |                    |
| 3.2      | 应用编号 | appId       | String      |              | 是       |                    |
| 3.3      | 私钥信息 | privateKey  | String      |              | 是       |                    |
| 3.4      | 账户地址 | address     | String      |              | 是       |                    |
| 3.5      | 公钥     | publicKey   | toHexString |              | 是       |                    |
| 3.6      | 描述     | description | String      |              | 是       |                    |
| 3.7      | 加密类型 | encryptType | Integer     |              | 是       | 0: ECDSA, 1: guomi |

**2）数据格式**

a.请求正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": {
    "signUserId": "user1001",
    "appId": "app1001",
    "address": "0xdb4ed7a548623c219235aa68156f117dff959a17",
    "publicKey": "0x46af4341acd0c404aab06a75cd950e2c04f8507a2f77abfe9e8b6d22014f897daaea457eb75dbdf26a0e74c4f1ee360c9d836ba6bfdd63754736231773904d4b",
    "privateKey": "",
    "description": null,
    "encryptType": 1
  }
}
```

b.异常返回结果示例

```
{
    "code": 303002,
    "message": "user does not exist",
    "data": null
}
```

### 4.3. 根据appId查询用户列表（分页）

#### 接口描述

根据传入的`appId`值，查询所有所有属于该appId的用户信息列表。

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/user/list/{appId}/{pageNumber}/{pageSize}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**               |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ---------------------- |
| 1        | 应用编号 | appId      | String   |              | 是       | 用于标志用户的应用编号 |
| 2        | 页码     | pageNumber | Integer  |              | 是       | 页码                   |
| 3        | 页大小   | pageSize   | Integer  |              | 是       | 每页条数               |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/user/list/app1001/1/5
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名**  | **类型**    | **最大长度** | **必填** | **说明**           |
| -------- | -------- | ----------- | ----------- | ------------ | -------- | ------------------ |
| 1        | 返回码   | code        | String      |              | 是       | 返回码信息请附录1  |
| 2        | 提示信息 | message     | String      |              | 是       |                    |
| 3        | 返回数据 | data        | List        |              | 是       |                    |
| 3.1      | 用户编号 | signUserId  | String      |              | 是       |                    |
| 3.2      | 应用编号 | appId       | String      |              | 是       |                    |
| 3.3      | 私钥信息 | privateKey  | String      |              | 是       |                    |
| 3.4      | 账户地址 | address     | String      |              | 是       |                    |
| 3.5      | 公钥     | publicKey   | toHexString |              | 是       |                    |
| 3.6      | 描述     | description | String      |              | 是       |                    |
| 3.7      | 加密类型 | encryptType | Integer     |              | 是       | 0: ECDSA, 1: guomi |
| 4        | 总量     | totalCount  | Long        |              | 否       | 数据总量           |

**2）数据格式**

a.请求正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": [
    {
      "signUserId": "user1001",
      "appId": "app1001",
      "address": "0xdb4ed7a548623c219235aa68156f117dff959a17",
      "publicKey": "0x46af4341acd0c404aab06a75cd950e2c04f8507a2f77abfe9e8b6d22014f897daaea457eb75dbdf26a0e74c4f1ee360c9d836ba6bfdd63754736231773904d4b",
      "privateKey": "",
      "description": null,
      "encryptType": 1
    }
  ],
  "totalCount": 1
}
```

b.异常返回结果示例

```
{
  "code": 103001,
  "message": "system error",
  "data": null
}
```

### 4.4. 停用私钥用户

#### 接口描述

通过修改私钥用户的`status`状态值来停用私钥用户；停用后，其他接口将不返回被停用的私钥用户

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/user**

#### 调用方法

HTTP DELETE

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**                                     |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------------------------------------------- |
| 1        | 用户编号 | signUserId | String   | 64           | 是       | 私钥用户的唯一业务编号，仅支持数字字母下划线 |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/user
```

```
{
  "signUserId": "user1002"
}
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |

**2）数据格式**

a.请求正常返回结果

```
{
  "code": 0,
  "message": "success",
  "data": null
}
```

b.异常返回结果示例

```
{
    "code": 303002,
    "message": "user does not exist",
    "data": null
}
```

## 5. web3接口

### 5.1. 获取节点版本

#### 接口描述

> 获取节点版本

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getClientVersion/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getClientVersion/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文**      | **参数名**         | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | ------------- | ------------------ | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码        | code               | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息      | message            | String   |              | 是       |                   |
| 3        | 返回数据      | data               | Object   |              | 是       |                   |
| 3.1      | 编译时间      | Build Time         | String   |              | 是       |                   |
| 3.2      | 编译类型      | Build Type         | String   |              | 是       |                   |
| 3.3      | 链编号        | Chain Id           | String   |              | 是       |                   |
| 3.4      | 版本          | FISCO-BCOS Version | String   |              | 是       |                   |
| 3.5      | git分支       | Git Branch         | String   |              | 是       |                   |
| 3.6      | git提交的hash | Git Commit Hash    | String   |              | 是       |                   |
| 3.7      | 支持版本      | Supported Version  | String   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    "Build Time": "20200619 17:34:45",
    "Build Type": "Linux/g++/RelWithDebInfo",
    "Chain Id": "1",
    "FISCO-BCOS Version": "2.5.0 gm",
    "Git Branch": "master",
    "Git Commit Hash": "3969c21fa34196182d9f236bcf80dfa978d90a41",
    "Supported Version": "2.6.0"
  }
}
```

### 5.2. 获取块高

#### 接口描述

> 获取节点最新块高

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getBlockNumber/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getBlockNumber/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       | 块高              |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": 2
}
```

### 5.3. 根据块高获取块信息

#### 接口描述

> 通过块高获取块信息

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getBlockNumber/{chainId}/{groupId}/{blockNumber}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名**  | **类型**   | **最大长度** | **必填** | **说明** |
| -------- | -------- | ----------- | ---------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId     | int        |              | 是       |          |
| 2        | 群组编号 | groupId     | int        |              | 是       |          |
| 3        | 块高     | blockNumber | BigInteger |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getBlockByNumber/3/3/1
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    // 区块高度
    "number": 1,
    // 区块哈希
    "hash": "0x89ace100600382e87caa11007c9bbb601b4e2c59e286de69ac5f18fb5aaaf481",
    // 父区块哈希
    "parentHash": "0x0e5e9226739919971d91f053d7af4800198fcc01e485f4b45d162efd8c02c895",
    "nonce": 0,
    "sha3Uncles": null,
    // log的布隆过滤器值
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "transactionsRoot": "0x36865bfa3815734f1efe84399a34a4850d5d61036ef31f1316761b8cf590df9b",
    // 状态根哈希
    "stateRoot": "0x47936c2041d091a19b86588562d40be4686c15ed918bdb0718eef1a638649baf",
    "receiptsRoot": "0xfc049802936de9da8138f4f8efe49bf049d3b8be13c908bc0c67c7c2baf75163",
    "author": null,
    // 共识节点序号
    "sealer": "0x1",
    "mixHash": null,
    // 附加数据
    "extraData": [],
    // 区块中允许的gas最大值
    "gasLimit": 0,
    // 区块中所有交易消耗的gas
    "gasUsed": 0,
    // 区块时间戳
    "timestamp": 1605099514670,
    // 交易列表
    "transactions": [
      {
        // 交易哈希
        "hash": "0xaade516407c66110315bc7be2b0e8c7785619338df61c1e06dd68d30bf10c948",
        // 交易的nonce值
        "nonce": 1.535965128333624e+75,
        // 包含该交易的区块哈希
        "blockHash": "0x89ace100600382e87caa11007c9bbb601b4e2c59e286de69ac5f18fb5aaaf481",
        // 包含该交易的区块高度
        "blockNumber": 1,
        // 交易的序号
        "transactionIndex": 0,
        // 发送者的地址
        "from": "0xd0596545d623270e0ea531a8ade61f1c87ed338c",
        // 接收者的地址，创建合约交易的该值为0x0000000000000000000000000000000000000000
        "to": null,
        // 转移的值
        "value": 0,
        // 发送者提供的gas的价格
        "gasPrice": 100000000,
        // 发送者提供的gas
        "gas": 100000000,
        // 交易的输入
        "input": "0xxxx",
        "creates": null,
        "publicKey": null,
        "raw": null,
        "r": null,
        "s": null,
        "v": 0,
        "nonceRaw": "1535965128333624051747207101758648597983133507894685428908599813835539246127",
        "gasRaw": "100000000",
        "valueRaw": "0",
        "gasPriceRaw": "100000000",
        "blockNumberRaw": "1",
        "transactionIndexRaw": "0"
      }
    ],
    "uncles": null,
    // 共识节点列表
    "sealerList": [
 "18568c1fd1d736697687dfdc0d7f09df4edba8192ed7520ca9c1ca69be2b6483024f6cf54ff2fb87012ecc6200a3cfe5a83888adac68ac746ae0dfce1df65373",  "c547fdabb8feca63c71dc971c4a9f2ab1b855be11b63bc47a089f1c136d205790950a29e0a2f0ae26bf3be9c168b479e17d94f5263bf87c831734c7ca3d49915"
    ],
    "numberRaw": "1",
    "gasLimitRaw": "0",
    "timestampRaw": "1605099514670",
    "nonceRaw": "0",
    "gasUsedRaw": "0"
  }
}
```

### 5.4. 获取群组交易数

#### 接口描述

> 获取群组交易数，返回获取群组交易数和最新块高

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getTotalTransactionCount/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getTotalTransactionCount/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    // 交易总数
    "txSum": 2,
    // 区块高度
    "blockNumber": 2
  }
}
```

### 5.5. 获取已连接的p2p节点信息

#### 接口描述

> 已连接的p2p节点信息

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getPeers/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getPeers/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": [
    {
      // 节点关注的topic信息
      "topic": null,
      // 节点连接的ip和端口
      "ipandPort": "10.107.119.91:30300",
      // 节点的ID
      "NodeID": "18568c1fd1d736697687dfdc0d7f09df4edba8192ed7520ca9c1ca69be2b6483024f6cf54ff2fb87012ecc6200a3cfe5a83888adac68ac746ae0dfce1df65373"
    }
  ]
}
```

### 5.6. 获取节点本身和已连接的p2p节点列表

#### 接口描述

> 返回节点本身和已连接的p2p节点列表

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getNodeIdList/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getNodeIdList/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**                        |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ------------------------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1               |
| 2        | 提示信息 | message    | String   |              | 是       |                                 |
| 3        | 返回数据 | data       | Object   |              | 是       | 节点本身和已连接p2p节点的ID列表 |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": [
 "c547fdabb8feca63c71dc971c4a9f2ab1b855be11b63bc47a089f1c136d205790950a29e0a2f0ae26bf3be9c168b479e17d94f5263bf87c831734c7ca3d49915",
 "18568c1fd1d736697687dfdc0d7f09df4edba8192ed7520ca9c1ca69be2b6483024f6cf54ff2fb87012ecc6200a3cfe5a83888adac68ac746ae0dfce1df65373"
  ]
}
```

### 5.7. 获取群组内的共识节点和观察节点列表

#### 接口描述

> 获取群组内的共识节点和观察节点列表

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getGroupPeers/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getGroupPeers/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**                       |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ------------------------------ |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1              |
| 2        | 提示信息 | message    | String   |              | 是       |                                |
| 3        | 返回数据 | data       | Object   |              | 是       | 群组内的共识节点和观察节点列表 |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": [
 "18568c1fd1d736697687dfdc0d7f09df4edba8192ed7520ca9c1ca69be2b6483024f6cf54ff2fb87012ecc6200a3cfe5a83888adac68ac746ae0dfce1df65373",
 "c547fdabb8feca63c71dc971c4a9f2ab1b855be11b63bc47a089f1c136d205790950a29e0a2f0ae26bf3be9c168b479e17d94f5263bf87c831734c7ca3d49915"
  ]
}
```

### 5.8. 获取群组内的观察节点列表

#### 接口描述

> 获取群组内的观察节点列表

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getObserverList/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getObserverList/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**             |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1    |
| 2        | 提示信息 | message    | String   |              | 是       |                      |
| 3        | 返回数据 | data       | Object   |              | 是       | 群组内的观察节点列表 |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": []
}
```

### 5.9. 获取群组内的同步状态信息

#### 接口描述

> 获取群组内的同步状态信息

#### 接口URL

**http://localhost:5003/WeBASE-Transaction/front/getSyncStatus/{chainId}/{groupId}**

#### 调用方法

HTTP GET

#### 请求参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明** |
| -------- | -------- | ---------- | -------- | ------------ | -------- | -------- |
| 1        | 链编号   | chainId    | int      |              | 是       |          |
| 2        | 群组编号 | groupId    | int      |              | 是       |          |

**2）数据格式**

```
http://localhost:5003/WeBASE-Transaction/front/getSyncStatus/3/3
```

#### 响应参数

**1）参数表**

| **序号** | **中文** | **参数名** | **类型** | **最大长度** | **必填** | **说明**          |
| -------- | -------- | ---------- | -------- | ------------ | -------- | ----------------- |
| 1        | 返回码   | code       | String   |              | 是       | 返回码信息请附录1 |
| 2        | 提示信息 | message    | String   |              | 是       |                   |
| 3        | 返回数据 | data       | Object   |              | 是       |                   |

**2）数据格式**

```
{
  "code": 0,
  "message": "success",
  "data": {
    // 最新区块高度
    "blockNumber": 2,
    // 创世块哈希
    "genesisHash": "0e5e9226739919971d91f053d7af4800198fcc01e485f4b45d162efd8c02c895",
    // 正在同步标志
    "isSyncing": false,
    // 最新区块哈希
    "latestHash": "4092d4a50e4f56ad50162a0db31daeb2b8de052e1242d8793fda46c430968fd7",
    // 节点的ID
    "nodeId": "18568c1fd1d736697687dfdc0d7f09df4edba8192ed7520ca9c1ca69be2b6483024f6cf54ff2fb87012ecc6200a3cfe5a83888adac68ac746ae0dfce1df65373",
    // 协议ID号
    "protocolId": 196617,
    // 交易池中交易的数量
    "txPoolSize": "0",
    // 已连接的指定群组内p2p节点
    "peers": [
      {
        // 最新区块高度
        "blockNumber": 2,
        // 创始区块哈希
        "genesisHash": "0e5e9226739919971d91f053d7af4800198fcc01e485f4b45d162efd8c02c895",
        // 最新块哈希
        "latestHash": "4092d4a50e4f56ad50162a0db31daeb2b8de052e1242d8793fda46c430968fd7",
        // 节点的ID
        "nodeId": "c547fdabb8feca63c71dc971c4a9f2ab1b855be11b63bc47a089f1c136d205790950a29e0a2f0ae26bf3be9c168b479e17d94f5263bf87c831734c7ca3d49915"
      }
    ]
  }
}
```

## 附录 

### 1. 返回码信息列表

| Code   | message                                          | 描述                             |
| ------ | ------------------------------------------------ | -------------------------------- |
| 0      | success                                          | 正常                             |
| 103001 | system error                                     | 系统异常                         |
| 103002 | param valid fail                                 | 参数校验异常                     |
| 203101 | contract funcParam is error                      | 合约方法参数错误                 |
| 203102 | function is not exists                           | 方法名不存在                     |
| 203103 | abi parse error                                  | abi解析错误                      |
| 203104 | contract deploy fail                             | 合约部署失败                     |
| 203201 | signUserId check failed                          | 签名用户编号校验失败             |
| 203202 | data request sign error                          | 数据请求签名异常                 |
| 203203 | request sign server exception                    | 请求签名服务异常                 |
| 203301 | request node exception                           | 节点请求失败                     |
| 203302 | request front fail                               | 前置请求失败                     |
| 203303 | not fount any front                              | 找不到前置                       |
| 203304 | Available front url is empty, check front status | 没有有效前置，请检查节点前置状态 |